<!doctype html>
<html lang="en">
	<!-- Jude's banned words checker, by Jude and Nathan Strutz
			strutz@gmail.com
	 -->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="../lib/bootstrap.min.css" />
		<style>
			#doc {
				height: 20em;
			}
			.highlight {
				background-color: #ffda10;
			}

			.messageFlash {
				position:absolute;
				z-index:99;
				top:0;
				right:0;
				bottom:0;
				left:0;
				font-size:5em;
				color:#FFF;
				text-align:center;
				padding-top:20%;
				font-family:sans-serif;
				font-weight:bold;
				width:100%;
				height:100%;
			}
		</style>
		<title>Banned Words Checker</title>
	</head>
	<body>

		<div class="container">


			<div class="p-5 mb-4 bg-light rounded-3">
				<div class="container-fluid py-5">
					<h1 class="display-5 fw-bold">Banned Words</h1>
					<p class="col-md-8 fs-4">Use this to check if your document has any of those awful banned words!</p>
				</div>
			</div>

			<div class="d-flex flex-column">
				<div class="d-flex justify-content-between">
					<label for="doc">Paste your document here</label>
					<button type="button" id="exampleBtn" class="btn btn-sm btn-outline-secondary">example document</button>
				</div>
				<div contenteditable="true" id="doc" class="form-control"></div>
			</div>
			<div class="input-group">
				<button id="go" class="btn btn-lg btn-primary">Go</button>
			</div>

		</div>


		<script lang="JavaScript" src="../lib/jquery.js"></script>
		<!-- <script lang="JavaScript" src="../lib/bootstrap.min.js"></script> -->
		<script>

			/*
			 * jQuery Highlight Regex Plugin v0.1.2
			 *
			 * Based on highlight v3 by Johann Burkard
			 * http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html
			 *
			 * (c) 2009-13 Jacob Rothstein
			 * MIT license
			 */!function(a){var b=function(c){if(c&&c.childNodes){var d=a.makeArray(c.childNodes),e=null;a.each(d,function(a,d){3===d.nodeType?""===d.nodeValue?c.removeChild(d):null!==e?(e.nodeValue+=d.nodeValue,c.removeChild(d)):e=d:(e=null,d.childNodes&&b(d))})}};a.fn.highlightRegex=function(c,d){return"object"==typeof c&&"RegExp"!==c.constructor.name&&(d=c,c=void 0),"undefined"==typeof d&&(d={}),d.className=d.className||"highlight",d.tagType=d.tagType||"span",d.attrs=d.attrs||{},"undefined"==typeof c||""===c.source?a(this).find(d.tagType+"."+d.className).each(function(){a(this).replaceWith(a(this).text()),b(a(this).parent().get(0))}):a(this).each(function(){var e=a(this).get(0);b(e),a.each(a.makeArray(e.childNodes),function(e,f){var g,h,i,j,k,l;if(b(f),3==f.nodeType){if(a(f).parent(d.tagType+"."+d.className).length)return;for(;f.data&&(j=f.data.search(c))>=0&&(k=f.data.slice(j).match(c)[0],k.length>0);)g=document.createElement(d.tagType),g.className=d.className,a(g).attr(d.attrs),l=f.parentNode,h=f.splitText(j),f=h.splitText(k.length),i=h.cloneNode(!0),g.appendChild(i),l.replaceChild(g,h)}else a(f).highlightRegex(c,d)})}),a(this)}}(jQuery);



			// My super flashing success & error messages!
			function flashMessage(color,message) {
				$("<div class='messageFlash' style='background-color:"+color+";'>"+message.toUpperCase()+"</div>").appendTo("body").fadeOut(1000,function(){$(this).remove();});
			}
			function error() {
				flashMessage("#D00", "ERROR");
			}
			function warning() {
				flashMessage("#F80", "WARNING");
			}
			function success() {
				flashMessage("#0C0", "SUCCESS");
			}

			$(function(){

				$(document).on("click", "#go", function(ev){
					// This is the actual spot where we put the banned words.
					// It's a regular expression, read more: http://www.regular-expressions.info/
					var regString = "\\b(go(ing)?|come|went|came|say(ing|s)?|said|got(ten)?|get(ting)?|see|saw|look(ing|ed)?|eat(ing|en)|ate|a lot|lots|mean|ugly|bad|interesting|nice(r|st)?|prett(y|iest|ier)|good|big(gest|ger)?|eat)\\b";
					$("#doc").highlightRegex(regString);


					var reg = new RegExp(regString,"ig");
					if (reg.test( $("#doc").text() )) {
						error();
					} else {
						success();
					}

				}).on("click","#exampleBtn", function(ev){
					$("#doc").text(`The banned words are words that are discouraged from being used in writing by the Institute for Excellence in Writing (IEW), a curriculum that teaches students how to write well using various techniques and models. The banned words include verbs such as go, went, come, came, say, said, get, got, see or saw, adjectives such as good, bad, nice, mean, pretty, ugly, big, or a lot, helping verbs such as am, is, are, was, were, etc., and state of being verbs such as be, being or been. The purpose of banning these words is to help students avoid using vague or weak words and instead use more descriptive and precise words that make their writing more effective and interesting.`);
				});

			});


		</script>
	</body>
</html>
